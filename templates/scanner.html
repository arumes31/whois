{{ template "header" . }}

<div class="glass-panel mx-auto p-4" style="max-width: 800px;">
    <h4 class="text-danger mb-4 fw-bold"><svg style="width:20px;height:20px;margin-right:12px;fill:currentColor" viewBox="0 0 512 512"><path d="M448 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V128H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v32H224c-17.7 0-32 14.3-32 32s14.3 32 32 32h32v64c0 17.7 14.3 32 32 32s32-14.3 32-32V320h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320V224h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V32h96z"/></svg> PORT SCANNER</h4>
    <p class="text-white small mb-4 font-monospace italic">Security scanning for common open ports. Use responsibly.</p>
    
    <form hx-post="/scan" hx-target="#scanResults" hx-indicator="#scanIndicator">
        <div class="row g-3">
            <div class="col-md-8">
                <label class="small text-white mb-2 fw-bold">TARGET IP OR DOMAIN</label>
                <input type="text" name="target" class="form-control matrix-input" placeholder="e.g. 192.168.1.1" title="Enter an IP address or domain name to scan" required>
            </div>
            <div class="col-md-4">
                <label class="small text-white mb-2 fw-bold">PORT RANGE</label>
                <input type="text" name="ports" class="form-control matrix-input" value="21,22,23,25,53,80,110,143,443,445,3306,3389,5432,8080" title="Comma-separated list of ports or ranges (e.g., 80, 443, 8080-8085)">
            </div>
        </div>
        
        <div class="mt-4">
            <button type="submit" class="btn btn-danger w-100 fw-bold py-2">
                <svg style="width:14px;height:14px;margin-right:8px;fill:currentColor" viewBox="0 0 512 512"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg> INITIATE SCAN
            </button>
        </div>
    </form>

    <div id="scanIndicator" class="htmx-indicator mt-4 text-center">
        <div class="spinner-border text-danger" role="status"></div>
        <div class="mt-2 text-white small">Scanning ports...</div>
    </div>

    <div id="scanResults" class="mt-5">
        <!-- Results injected by HTMX -->
    </div>
</div>

{{ template "footer" . }}
