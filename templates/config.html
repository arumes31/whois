{{ template "header" . }}

<div class="container mt-4">
  <h2 class="mb-4 fw-bold"><i class="fas fa-microchip me-2"></i> MECHANISM ARCHIVE</h2>
  <p class="text-muted small italic">Automated logs are compiled <strong>every 24 solar hours</strong>.</p>

  <div class="row g-4">
    <div class="col-md-5">
      <div class="glass-panel p-4">
        <div class="mb-4">
          <h5 class="mb-0 fw-bold text-success"><i class="fas fa-plus me-2"></i> NEW COMPONENT</h5>
          <hr class="border-secondary opacity-25">
        </div>
        <div>
          <form method="post">
            <div class="mb-3">
              <input 
                type="text" 
                class="form-control matrix-input" 
                name="item" 
                placeholder="example.com or 8.8.8.8" 
                required>
              <small class="text-muted font-monospace">Vessel identifier</small>
            </div>
            <button type="submit" name="action" value="add" class="btn btn-danger w-100">COMMENCE MONITORING</button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-md-7">
      <div class="glass-panel p-4">
        <div class="mb-4">
          <h5 class="mb-0 fw-bold text-info"><i class="fas fa-list me-2"></i> ACTIVE SENSORS ({{ len .monitored }})</h5>
          <hr class="border-secondary opacity-25">
        </div>
        <div>
          {{ if .monitored }}
            <ul class="list-group list-group-flush bg-transparent">
              {{ range .monitored }}
                <li class="list-group-item bg-transparent d-flex justify-content-between align-items-center border-secondary opacity-75">
                  <code class="text-info">{{ . }}</code>
                  <form method="post" class="d-inline">
                    <input type="hidden" name="item" value="{{ . }}">
                    <button type="submit" name="action" value="remove" class="btn btn-sm btn-outline-danger px-3">EJECT</button>
                  </form>
                </li>
              {{ end }}
            </ul>
          {{ else }}
            <p class="text-muted mb-0 italic">No sensors currently deployed.</p>
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</div>

{{ template "footer" . }}
