{{ define "footer" }}
</div> <!-- End container-fluid -->
</main> <!-- End Main Content -->
</div> <!-- End App Container -->

<!-- Tool Modals -->
<div class="modal fade" id="toolModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content glass-panel border-nordic shadow-lg">
            <div class="modal-header border-0 pb-0">
                <h5 class="modal-title fw-bold" id="toolTitle"><i class="fas fa-tools me-2 text-danger"></i>Tool</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body pt-3" id="toolBody">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>
</div>

<script src="/static/vendor/bootstrap.bundle.min.js"></script>
<script src="/static/vendor/prism.min.js"></script>

<script>
    function openTool(type) {
        const modalEl = document.getElementById('toolModal');
        const modal = new bootstrap.Modal(modalEl);
        const title = document.getElementById('toolTitle');
        const body = document.getElementById('toolBody');
        
        if (type === 'dns') {
            title.innerText = 'Single DNS Lookup';
            body.innerHTML = `
                <form hx-post="/dns_lookup" hx-target="#toolRes" hx-indicator="#toolSpin">
                    <input type="text" class="form-control matrix-input mb-3" name="domain" placeholder="example.com" required>
                    <select class="form-select matrix-input mb-3" name="type">
                        <option value="A">A</option><option value="AAAA">AAAA</option><option value="MX">MX</option>
                        <option value="TXT">TXT</option><option value="NS">NS</option><option value="PTR">PTR</option>
                    </select>
                    <button class="btn btn-primary w-100">Execute</button>
                    <div id="toolSpin" class="htmx-indicator text-center mt-3"><div class="spinner-border text-danger"></div></div>
                    <div id="toolRes" class="mt-3"></div>
                </form>`;
        } else if (type === 'mac') {
            title.innerText = 'MAC Address Lookup';
            body.innerHTML = `
                <form hx-post="/mac_lookup" hx-target="#toolRes" hx-indicator="#toolSpin">
                    <input type="text" class="form-control matrix-input mb-3" name="mac" placeholder="00:11:22:33:44:55" required>
                    <button class="btn btn-primary w-100">Execute</button>
                    <div id="toolSpin" class="htmx-indicator text-center mt-3"><div class="spinner-border text-danger"></div></div>
                    <div id="toolRes" class="mt-3"></div>
                </form>`;
        }
        
        htmx.process(body);
        modal.show();
    }
</script>

</body>
</html>
{{ end }}